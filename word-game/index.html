<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Alphabet Game</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; margin: 30px; }
  .game-box { max-width: 450px; margin: auto; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
  h2 { margin-bottom: 10px; }
  .question { font-size: 26px; margin: 20px 0; font-weight: bold; }
  input { font-size: 20px; padding: 6px; width: 160px; text-align: center; }
  select { font-size: 18px; padding: 6px; }
  .stats { margin-top: 15px; font-size: 18px; }
  .result { font-size: 22px; font-weight: bold; margin-top: 20px; }
</style>
</head>
<body>

<div class="game-box">
  <h2>Alphabet Quiz Game</h2>
  <label>Mode: 
    <select id="mode">
      <option value="L2P">Alphabet → Position</option>
      <option value="P2L">Position → Alphabet</option>
      <option value="P2LR">Position → Alphabet (Reverse)</option>
      <option value="ADD">Addition / Subtraction</option>
    </select>
  </label>
  <div class="question" id="question"></div>
  <input id="answer" type="text" autocomplete="off" placeholder="Your answer">
  <div class="stats">
    Correct: <span id="correct">0</span> | 
    Incorrect: <span id="incorrect">0</span> | 
    Time: <span id="time">59</span>s
  </div>
  <div class="result" id="result"></div>
</div>

<script>
const qBox = document.getElementById("question");
const ansInput = document.getElementById("answer");
const modeSel = document.getElementById("mode");
const correctEl = document.getElementById("correct");
const incorrectEl = document.getElementById("incorrect");
const timeEl = document.getElementById("time");
const resultEl = document.getElementById("result");

let correct = 0, incorrect = 0, timer = 59, interval;
let current = {};

function letterToPos(ch){ return ch.toUpperCase().charCodeAt(0) - 64; }
function posToLetter(p){ return String.fromCharCode(64 + ((p-1)%26 + 1)); }
function posToLetterRev(p){ return String.fromCharCode(91 - ((p-1)%26 + 1)); }

function newQuestion(){
  let mode = modeSel.value;
  let q="", a="";
  
  if(mode==="L2P"){ // Alphabet -> Position
    let letter = posToLetter(Math.floor(Math.random()*26)+1);
    q = `Position of ${letter}?`;
    a = String(letterToPos(letter));
  }
  else if(mode==="P2L"){ // Position -> Alphabet
    let pos = Math.floor(Math.random()*26)+1;
    q = `Alphabet at ${pos}?`;
    a = posToLetter(pos);
  }
  else if(mode==="P2LR"){ // Reverse
    let pos = Math.floor(Math.random()*26)+1;
    q = `Alphabet at ${pos} (Reverse)?`;
    a = posToLetterRev(pos);
  }
  else if(mode==="ADD"){ // Addition/Subtraction
    if(Math.random()<0.5){ // Letter + Number
      let letter = posToLetter(Math.floor(Math.random()*26)+1);
      let shift = Math.floor(Math.random()*25)+1;
      q = `${letter} + ${shift} = ?`;
      a = posToLetter(letterToPos(letter)+shift);
    } else { // Letter +/- Letter
      let p1 = Math.floor(Math.random()*26)+1;
      let p2 = Math.floor(Math.random()*26)+1;
      if(p1 < p2){ [p1,p2] = [p2,p1]; }
      if(Math.random()<0.5){
        q = `${posToLetter(p1)} + ${posToLetter(p2)} = ?`;
        a = posToLetter(p1+p2);
      } else {
        q = `${posToLetter(p1)} - ${posToLetter(p2)} = ?`;
        a = posToLetter(p1-p2);
      }
    }
  }

  current = {q, a};
  qBox.textContent = q;
  ansInput.value="";
  ansInput.focus();
}

function checkAnswer(){
  if(!current.q) return;
  let user = ansInput.value.trim().toUpperCase();
  if(user === current.a.toUpperCase()){
    correct++;
    correctEl.textContent = correct;
    newQuestion();
  } else {
    incorrect++;
    incorrectEl.textContent = incorrect;
    ansInput.value="";
    ansInput.focus();
  }
}

ansInput.addEventListener("keydown", e=>{
  if(e.key==="Enter"){ checkAnswer(); }
});

function startGame(){
  correct=0; incorrect=0; timer=59;
  correctEl.textContent=0;
  incorrectEl.textContent=0;
  resultEl.textContent="";
  newQuestion();
  interval = setInterval(()=>{
    timer--;
    timeEl.textContent = timer;
    if(timer<=0){
      clearInterval(interval);
      qBox.textContent="Time Over!";
      ansInput.disabled = true;
      resultEl.textContent = `✅ Correct: ${correct} | ❌ Incorrect: ${incorrect} | Total: ${correct+incorrect}`;
    }
  },1000);
}

modeSel.addEventListener("change", startGame);
window.onload = startGame;
</script>

</body>
</html>